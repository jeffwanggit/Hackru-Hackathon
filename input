package hello;
import java.util.Scanner;

public class inputTimeMthd {
	
	final static int MINUTES_IN_HOUR = 60;
	
	//returns the first index in array when the first minute of the event occurs
	static public int minuteStart(int hour, int minute, String tODay) {
		int time = 0;
		
		//if time is in pm
		if(tODay.equalsIgnoreCase("pm")) {
			//if it is noon, do not change anything in formula, else, add 12 to the hour
			if(hour == 12)
				return hour * MINUTES_IN_HOUR + minute;
			else
				return (12+hour) * MINUTES_IN_HOUR + minute;
		}
		//else if it is am and hour is 12, then the index should start at 0 plus the total amount of minutes
		else if(hour == 12)
			time = 0 + minute;
		//else if it is am, calculate total number of minutes
		else
			time = hour * MINUTES_IN_HOUR + minute;
		
		return time;
	}
	
	//returns the last index in array when the first minute of the event occurs
	static public int minuteEnd(int hour, int minute, String tODay) {
		int time = 0;
		
		//if time is in pm
		if(tODay.equalsIgnoreCase("pm")) {
			//if it is noon, do not change anything in formula, else, add 12 to the hour
			if(hour == 12)
				return hour * MINUTES_IN_HOUR + minute;
			else
				return (12+hour) * MINUTES_IN_HOUR + minute;
		}
		//else if it is am and hour is 20, then the index should start at 0 plus the total amount of minutes
		else if(hour == 12)
			time = 0 + minute;
		//else if it is am, calculate total number of minutes
		else
			time = hour * MINUTES_IN_HOUR + minute;
		
		return time;
	}
	
	static public int[] func(int events) {
		//initialize and or declare variables
		Scanner key = new Scanner(System.in);
		int[] schedule = new int[1439];
		String Stime, Etime;
		String delims = "[ :]";
		String[] Sinfo, Einfo;
		
		for(int i =1; i <= events; i++) {
			//loops until there is no invalid case, where there is no space between the time and the time reference
			do {
				//ask user input
				System.out.print("Enter start time of Event " + i + " (##:## am/pm): ");
				Stime = key.nextLine();
				System.out.print("Enter end time of Event " + i + " (##:## am/pm): ");
				Etime = key.nextLine();
				System.out.println();
				
				//splits the hours, minutes, and time of day of the time into elements of an array
				Sinfo = Stime.split(delims);
				Einfo = Etime.split(delims); 
				
				//output error message if there is no space between the time and the time reference
				if((Sinfo.length < 3) || (Einfo.length < 3)) {
					System.out.println("Invalid Input... Re-enter times with correct formatting...");
					System.out.println("*Notice the space between the actual time and time indicator*\n");
				}
				
			}while( (Sinfo.length < 3) || (Einfo.length < 3) );
			
			//gets the start and end positions in terms of the array indices
			int minuteStart = minuteStart(Integer.parseInt(Sinfo[0]), Integer.parseInt(Sinfo[1]), Sinfo[2]);
			int minuteEnd = minuteEnd(Integer.parseInt(Einfo[0]), Integer.parseInt(Einfo[1]) , Einfo[2]);
			
			//assign busy time in schedule with 1's
			for(int j= minuteStart ; j < minuteEnd; j++)
				schedule[j] = 1;
		}

		return schedule;
	}

	public static void main(String[] args) {
		int[] x = new int[1439];
		x = func(1);
		
		for(int i=0; i < x.length;i++) {
			//if(x[i] == 1)
				System.out.print(x[i] + " ");
		}
	}
}
